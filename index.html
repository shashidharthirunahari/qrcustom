<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced QR Code Generator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Advanced QR Code Generator</h1>
    <select id="qrType">
      <option value="text">Text / URL</option>
      <option value="wifi">WiFi</option>
      <option value="contact">Contact</option>
      <option value="vcard">vCard</option>
      <option value="photo">Photo (Image URL)</option>
      <option value="location">Location</option>
      <option value="event">Calendar Event</option>
      <option value="email">Email</option>
      <option value="sms">SMS</option>
      <option value="call">Phone Call</option>
      <option value="upi">UPI Payment</option>
    </select><div id="inputFields"></div>

<input type="color" id="qrColor" value="#000000" /> QR Color<br />
<input type="color" id="bgColor" value="#ffffff" /> Background Color<br />
<input type="file" id="logoUpload" accept="image/*" /><br />
<label>Logo Size: <input type="range" id="logoSize" min="10" max="40" value="20" /></label><br />

<button onclick="generateQRCode()">Generate QR</button>
<br />
<canvas id="qrCanvas"></canvas>
<br />
<button onclick="downloadQR()">Download QR</button>

  </div>  <script src="https://cdn.jsdelivr.net/npm/qrcode"></script>  <script>
    const qrType = document.getElementById('qrType');
    const inputFields = document.getElementById('inputFields');

    qrType.addEventListener('change', updateFields);
    window.onload = updateFields;

    function updateFields() {
      const type = qrType.value;
      let html = '';
      switch (type) {
        case 'text': html = '<textarea id="text" placeholder="Enter text or URL"></textarea>'; break;case 'wifi': html = `
      <input id="ssid" placeholder="WiFi SSID" />
      <input id="password" placeholder="Password" />
      <select id="encryption">
        <option value="WPA">WPA</option>
        <option value="WEP">WEP</option>
        <option value="nopass">None</option>
      </select>`; break;
    case 'contact': html = `
      <input id="cname" placeholder="Name" />
      <input id="cphone" placeholder="Phone" />
      <input id="cemail" placeholder="Email" />`; break;
    case 'vcard': html = `
      <input id="vname" placeholder="Full Name" />
      <input id="vorg" placeholder="Organization" />
      <input id="vtitle" placeholder="Title" />
      <input id="vphone" placeholder="Phone" />
      <input id="vemail" placeholder="Email" />
      <input id="vurl" placeholder="Website" />
      <input id="vaddr" placeholder="Address" />`; break;
    case 'photo': html = '<input id="imgurl" placeholder="Enter Image URL" />'; break;
    case 'location': html = '<input id="lat" placeholder="Latitude" /><input id="lon" placeholder="Longitude" />'; break;
    case 'event': html = `
      <input id="etitle" placeholder="Event Title" />
      <input id="estart" type="datetime-local" />
      <input id="eend" type="datetime-local" />
      <input id="elocation" placeholder="Location" />`; break;
    case 'email': html = '<input id="emailto" placeholder="Email To" /><input id="subject" placeholder="Subject" /><textarea id="body" placeholder="Message"></textarea>'; break;
    case 'sms': html = '<input id="smsnum" placeholder="Phone Number" /><textarea id="smsmsg" placeholder="Message"></textarea>'; break;
    case 'call': html = '<input id="callnum" placeholder="Phone Number" />'; break;
    case 'upi': html = '<input id="upiid" placeholder="UPI ID" /><input id="upiname" placeholder="Name" /><input id="amount" placeholder="Amount" /><input id="note" placeholder="Note" />'; break;
  }
  inputFields.innerHTML = html;
}

function generateQRCode() {
  const canvas = document.getElementById('qrCanvas');
  const ctx = canvas.getContext('2d');
  const colorDark = document.getElementById('qrColor').value;
  const colorLight = document.getElementById('bgColor').value;
  const type = qrType.value;

  let qrText = '';
  switch (type) {
    case 'text': qrText = document.getElementById('text').value; break;
    case 'wifi':
      const s = document.getElementById('ssid').value;
      const p = document.getElementById('password').value;
      const e = document.getElementById('encryption').value;
      qrText = `WIFI:T:${e};S:${s};P:${p};;`; break;
    case 'contact':
      const n = document.getElementById('cname').value;
      const t = document.getElementById('cphone').value;
      const em = document.getElementById('cemail').value;
      qrText = `MECARD:N:${n};TEL:${t};EMAIL:${em};;`; break;
    case 'vcard':
      qrText = `BEGIN:VCARD\nVERSION:3.0\nN:${document.getElementById('vname').value}\nORG:${document.getElementById('vorg').value}\nTITLE:${document.getElementById('vtitle').value}\nTEL:${document.getElementById('vphone').value}\nEMAIL:${document.getElementById('vemail').value}\nURL:${document.getElementById('vurl').value}\nADR:${document.getElementById('vaddr').value}\nEND:VCARD`; break;
    case 'photo': qrText = document.getElementById('imgurl').value; break;
    case 'location':
      qrText = `https://www.google.com/maps?q=${document.getElementById('lat').value},${document.getElementById('lon').value}`; break;
    case 'event':
      const start = document.getElementById('estart').value.replace(/[-:]/g, '').slice(0, 15);
      const end = document.getElementById('eend').value.replace(/[-:]/g, '').slice(0, 15);
      qrText = `BEGIN:VEVENT\nSUMMARY:${document.getElementById('etitle').value}\nDTSTART:${start}\nDTEND:${end}\nLOCATION:${document.getElementById('elocation').value}\nEND:VEVENT`; break;
    case 'email':
      qrText = `mailto:${document.getElementById('emailto').value}?subject=${document.getElementById('subject').value}&body=${document.getElementById('body').value}`; break;
    case 'sms':
      qrText = `SMSTO:${document.getElementById('smsnum').value}:${document.getElementById('smsmsg').value}`; break;
    case 'call':
      qrText = `tel:${document.getElementById('callnum').value}`; break;
    case 'upi':
      qrText = `upi://pay?pa=${document.getElementById('upiid').value}&pn=${document.getElementById('upiname').value}&am=${document.getElementById('amount').value}&cu=INR&tn=${document.getElementById('note').value}`; break;
  }

  QRCode.toCanvas(canvas, qrText, {
    width: 256,
    color: {
      dark: colorDark,
      light: colorLight
    }
  }, () => {
    const logoInput = document.getElementById('logoUpload');
    const logoSize = parseInt(document.getElementById('logoSize').value);
    if (logoInput.files[0]) {
      const img = new Image();
      img.onload = () => {
        const size = canvas.width * logoSize / 100;
        ctx.drawImage(img, (canvas.width - size) / 2, (canvas.height - size) / 2, size, size);
      };
      img.src = URL.createObjectURL(logoInput.files[0]);
    }
  });
}

function downloadQR() {
  const canvas = document.getElementById('qrCanvas');
  const link = document.createElement('a');
  link.download = 'qr-code.png';
  link.href = canvas.toDataURL();
  link.click();
}

  </script>
</body>
</html>
